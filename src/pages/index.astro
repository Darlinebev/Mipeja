---
import BaseLayout from "../layouts/BaseLayout.astro";
import MobileNav from "../components/MobileNav.astro";
import Hero from "../components/Hero.astro";
import { hotel } from "../data/hotel";

const pageTitle = `${hotel.name} | Boutique Stay in ${hotel.location}`;
const pageDescription = `${hotel.name} in ${hotel.location} offers warm hospitality, stylish rooms, and a secure booking experience. Discover rooms, amenities, and book your stay.`;
const bookingUrl = hotel.bookingUrl;
---

<BaseLayout title={pageTitle} description={pageDescription}>
	<div class="min-h-screen">
		<header class="sticky top-0 z-50 glass border-b-0 transition-all duration-300">
			<div class="mx-auto flex max-w-6xl items-center justify-between px-6 py-4">
				<div class="flex items-center gap-3">
					<div class="h-12 w-12 rounded-2xl bg-coral text-white flex items-center justify-center font-display text-xl font-bold shadow-soft">
						M
					</div>
					<div>
						<p class="text-xl font-display font-bold leading-none">{hotel.name}</p>
						<p class="text-xs text-slate-500 font-medium">{hotel.location}</p>
					</div>
				</div>
				<nav class="hidden md:flex items-center gap-2">
					<a href="/" class="px-4 py-2 rounded-full font-medium text-sm transition-all bg-coral text-white">Home</a>
					<a href="/rooms" class="px-4 py-2 rounded-full font-medium text-sm transition-all text-slate-600 hover:text-coral hover:bg-coral/10">Rooms</a>
					<a href="/amenities" class="px-4 py-2 rounded-full font-medium text-sm transition-all text-slate-600 hover:text-coral hover:bg-coral/10">Amenities</a>
					<a href="/gallery" class="px-4 py-2 rounded-full font-medium text-sm transition-all text-slate-600 hover:text-coral hover:bg-coral/10">Gallery</a>
					<a href="/about" class="px-4 py-2 rounded-full font-medium text-sm transition-all text-slate-600 hover:text-coral hover:bg-coral/10">About</a>
					<a href="/faqs" class="px-4 py-2 rounded-full font-medium text-sm transition-all text-slate-600 hover:text-coral hover:bg-coral/10">FAQs</a>
				</nav>
				<div class="flex items-center gap-3">
					<a class="btn-primary py-2 px-6 text-sm shadow-none hover:shadow-soft hidden sm:inline-block" href={bookingUrl} target="_blank" rel="noreferrer">
						Book Now
					</a>
					<MobileNav hotelName={hotel.name} hotelLocation={hotel.location} />
				</div>
			</div>
		</header>

		<Hero hotel={hotel} bookingUrl={bookingUrl} />


		<section class="mx-auto max-w-6xl px-6 py-8">
			<div class="grid gap-6 md:grid-cols-3">
				{hotel.quickFacts.map((fact) => (
					<div class="card p-6">
						<p class="text-sm text-slate-500">Nearby</p>
						<p class="text-lg font-semibold">{fact}</p>
					</div>
				))}
			</div>
		</section>

		<section id="rooms" class="mx-auto max-w-6xl px-6 py-16">
			<div class="flex flex-wrap items-end justify-between gap-4">
				<div>
					<p class="kicker">Rooms & Suites</p>
					<h2 class="section-heading">Comfort designed for every traveler.</h2>
				</div>
				<div class="flex flex-wrap gap-3">
					<a class="btn-outline" href="/rooms">
						View all rooms
					</a>
					<a class="btn-primary" href={bookingUrl} target="_blank" rel="noreferrer">
						Book a Room
					</a>
				</div>
			</div>
			<div class="mt-10 grid gap-8 md:grid-cols-3">
				{hotel.rooms.map((room) => (
					<div class="card overflow-hidden">
						<img src={room.image} alt={room.name} class="h-56 w-full object-cover" loading="lazy" />
						<div class="space-y-4 p-6">
							<div class="flex items-center justify-between">
								<h3 class="text-xl font-semibold">{room.name}</h3>
								<span class="rounded-full bg-sand px-3 py-1 text-sm font-semibold">{room.price}</span>
							</div>
							<ul class="space-y-2 text-sm text-slate-600">
								{room.features.map((feature) => (
									<li>• {feature}</li>
								))}
							</ul>
							<div class="grid gap-3">
								<a class="btn-outline w-full" href={`/rooms/${room.slug}`}>
									View details
								</a>
								<a class="btn-primary w-full" href={bookingUrl} target="_blank" rel="noreferrer">
									Book in {hotel.currency}
								</a>
							</div>
						</div>
					</div>
				))}
			</div>
		</section>

		<section id="amenities" class="bg-white/70">
			<div class="mx-auto max-w-6xl px-6 py-16">
				<div class="grid gap-10 lg:grid-cols-[1fr_1.2fr]">
					<div>
						<p class="kicker">Amenities</p>
						<h2 class="section-heading">Everything you need for a smooth stay.</h2>
						<p class="mt-4 text-slate-600">
							From 24-hour support to fast WiFi, we’ve curated thoughtful services for comfort, productivity, and rest.
						</p>
						<div class="mt-6 flex flex-wrap gap-3">
							<span class="rounded-full bg-teal/10 px-4 py-2 text-sm font-semibold text-teal">
								Thumb-friendly navigation
							</span>
							<span class="rounded-full bg-coral/10 px-4 py-2 text-sm font-semibold text-coral">
								Responsive on every screen
							</span>
						</div>
					</div>
					<div class="grid gap-4 sm:grid-cols-2">
						{hotel.amenities.map((item) => (
							<div class="card p-4 text-sm font-medium text-slate-700">{item}</div>
						))}
					</div>
				</div>
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-6 py-16">
			<div class="grid gap-8 lg:grid-cols-[1.1fr_0.9fr]">
				<div class="space-y-6">
					<p class="kicker">Clean & Secure</p>
					<h2 class="section-heading">Professional cleanliness with thoughtful safety.</h2>
					<p class="text-slate-600">
						We maintain elevated hygiene standards across rooms and shared spaces to keep every stay calm, safe, and refreshing.
					</p>
					<ul class="grid gap-3 text-sm text-slate-600">
						{hotel.safety.map((item) => (
							<li class="card px-4 py-3">{item}</li>
						))}
					</ul>
				</div>
				<img src="/images/lounge.svg" alt="Shared lounge" class="w-full rounded-[32px] shadow-soft" loading="lazy" />
			</div>
		</section>

		<section id="gallery" class="bg-white/70">
			<div class="mx-auto max-w-6xl px-6 py-16">
				<div class="flex flex-wrap items-end justify-between gap-4">
					<div>
						<p class="kicker">Gallery</p>
						<h2 class="section-heading">Light-filled spaces and calm corners.</h2>
					</div>
					<a class="btn-outline" href="https://www.youtube.com" target="_blank" rel="noreferrer">
						Watch virtual tour
					</a>
				</div>
				<div class="mt-10 grid gap-6 md:grid-cols-3">
					<img src="/images/room-deluxe.svg" alt="Deluxe room" class="h-64 w-full rounded-[28px] object-cover" loading="lazy" />
					<img src="/images/room-family.svg" alt="Family suite" class="h-64 w-full rounded-[28px] object-cover" loading="lazy" />
					<img src="/images/restaurant.svg" alt="Restaurant" class="h-64 w-full rounded-[28px] object-cover" loading="lazy" />
				</div>
			</div>
		</section>

		<section id="reviews" class="mx-auto max-w-6xl px-6 py-16">
			<div class="text-center">
				<p class="kicker">Guest Reviews</p>
				<h2 class="section-heading">Loved by travelers, trusted by teams.</h2>
			</div>
			<div class="mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
				{hotel.testimonials.map((testimonial) => (
					<div class="card p-8 hover:shadow-hover transition-all duration-300 group">
						<div class="flex gap-1 text-gold mb-4">
							{[...Array(testimonial.rating || 5)].map(() => (
								<svg class="w-5 h-5 fill-current" viewBox="0 0 20 20">
									<path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
								</svg>
							))}
						</div>
						<p class="text-slate-600 leading-relaxed group-hover:text-ink transition-colors">"{testimonial.quote}"</p>
						<p class="mt-4 font-display font-bold">{testimonial.name}</p>
					</div>
				))}
			</div>
		</section>

		<section id="location" class="bg-white/70">
			<div class="mx-auto max-w-6xl px-6 py-16">
				<div class="grid gap-10 lg:grid-cols-[1fr_1.2fr]">
					<div class="space-y-5">
						<p class="kicker">Location</p>
						<h2 class="section-heading">Easy access in the heart of Busia.</h2>
						<p class="text-slate-600">
							{hotel.name} is close to key transport links with easy access from Tororo Railway Station and Kisumu International Airport.
						</p>
						<div class="space-y-2 text-sm text-slate-600">
							{hotel.quickFacts.map((fact) => (
								<p>• {fact}</p>
							))}
						</div>
						<div class="flex gap-3">
							<a class="btn-primary" href={bookingUrl} target="_blank" rel="noreferrer">
								Book securely
							</a>
							<a class="btn-outline" href={hotel.whatsAppUrl} target="_blank" rel="noreferrer">
								Chat on WhatsApp
							</a>
						</div>
					</div>
					<div class="overflow-hidden rounded-[32px] shadow-soft">
						<iframe
							src="https://www.google.com/maps?q=Mipeja%20Hotel%20Busia&output=embed"
							class="h-80 w-full"
							loading="lazy"
							title="Mipeja Hotel location"
						></iframe>
					</div>
				</div>
			</div>
		</section>

		<section class="mx-auto max-w-6xl px-6 py-16">
			<div class="grid gap-8 lg:grid-cols-[1.2fr_0.8fr]">
				<div class="space-y-5">
					<p class="kicker">Policies</p>
					<h2 class="section-heading">Simple, clear, and guest-friendly.</h2>
					<div class="grid gap-3 text-sm text-slate-600">
						<p><strong>Check-in:</strong> {hotel.checkIn}</p>
						<p><strong>Check-out:</strong> {hotel.checkOut}</p>
						<p><strong>Minimum age:</strong> {hotel.minimumAge}</p>
					</div>
					<ul class="grid gap-2 text-sm text-slate-600">
						{hotel.rules.map((rule) => (
							<li>• {rule}</li>
						))}
					</ul>
				</div>
				<div class="card p-6">
					<h3 class="text-xl font-semibold">Need help?</h3>
					<p class="mt-2 text-sm text-slate-600">
						Our team is ready 24/7. Reach us by phone, email, or WhatsApp for fast replies.
					</p>
					<div class="mt-4 space-y-2 text-sm">
						<p><strong>Phone:</strong> {hotel.phone}</p>
						<p><strong>Email:</strong> {hotel.email}</p>
					</div>
					<a class="btn-primary mt-6 w-full" href={hotel.whatsAppUrl} target="_blank" rel="noreferrer">
						Start WhatsApp chat
					</a>
				</div>
			</div>
		</section>

		<footer class="border-t border-slate-100 bg-sand">
			<div class="mx-auto max-w-6xl px-6 py-10">
				<div class="flex flex-wrap items-center justify-between gap-6">
					<div>
						<p class="font-display text-xl font-semibold">{hotel.name}</p>
						<p class="text-sm text-slate-500">{hotel.tagline}</p>
					</div>
					<div class="flex flex-wrap gap-4 text-sm font-semibold">
						{hotel.socials.map((social) => (
							<a href={social.url} target="_blank" rel="noreferrer" class="hover:text-ink">
								{social.label}
							</a>
						))}
					</div>
				</div>
				<p class="mt-6 text-xs text-slate-400">© {new Date().getFullYear()} {hotel.name}. All rights reserved.</p>
			</div>
		</footer>

		<div class="fixed bottom-4 left-0 right-0 z-40 mx-auto flex max-w-md justify-center px-6 md:hidden">
			<a class="btn-primary w-full" href={bookingUrl} target="_blank" rel="noreferrer">
				Instant Booking
			</a>
		</div>

		<!-- Floating WhatsApp chat button (desktop & mobile) -->
		<a
			href={hotel.whatsAppUrl}
			class="fixed bottom-6 right-6 z-50 flex items-center gap-3 rounded-full bg-green-600 px-4 py-3 text-white shadow-lg md:hidden lg:flex"
			target="_blank"
			rel="noreferrer"
			title="Chat on WhatsApp"
		>
			<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11c-.5 1-1.5 1.8-3 2-1.6.3-3 0-4-1s-1.3-2.5-1-4c.2-1 1-1.6 2-2 1-.3 2-.1 3 .4s1.6 1.6 2 2.6c.2.6.6 1 1 1z" />
			</svg>
			<span class="hidden sm:inline">Chat</span>
		</a>
	</div>
</BaseLayout>
